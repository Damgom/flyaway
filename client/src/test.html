<!DOCTYPE html>
<html>

<body>
    <!-- 1. <iframe> (및 동영상 플레이어)  <div> 태그를 대체합니다. -->
    <div id="player"></div>

    <script>
        // 2. 이 코드는 IFrame Player API 코드를 비동기 적으로로드합니다.
        var tag = document.createElement('script');

        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        // 3.이 함수는 <iframe> (및 YouTube 플레이어)을 만듭니다.API 코드 다운로드 후.

        var player;
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '360',
                width: '640',
                videoId: 'M7lc1UVf-VE',
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        // 4. API는 동영상 플레이어가 준비되면이 함수를 호출합니다.
        function onPlayerReady(event) {
            event.target.playVideo();
        }

        // 5. API는 플레이어의 상태가 변경 될 때이 함수를 호출합니다.이 함수는 비디오 
        //(상태 = 1)를 재생할 때 플레이어는 6 초 동안 재생 한 다음 중지해야합니다.
        var done = false;
        function onPlayerStateChange(event) {
            playerState =
                event.data === window.YT.PlayerState.ENDED
                    ? '종료됨'
                    : event.data === window.YT.PlayerState.PLAYING
                        ? '재생 중'
                        : event.data === window.YT.PlayerState.PAUSED
                            ? '일시중지 됨'
                            : event.data === window.YT.PlayerState.BUFFERING
                                ? '버퍼링 중'
                                : event.data === window.YT.PlayerState.CUED
                                    ? '재생준비 완료됨'
                                    : event.data === -1
                                        ? '시작되지 않음'
                                        : '예외';
            console.log('onPlayerStateChange 실행: ' + playerState);
        }
    </script>
</body>

</html>